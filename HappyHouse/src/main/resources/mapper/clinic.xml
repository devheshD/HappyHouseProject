<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
	
<mapper namespace="com.ssafy.house.repository.ClinicRepository">
<select id="searchAll" parameterType="map" resultType="ClinicCoronaDto">
		select update_date, testable, city, gugun, clinic_name, address,opening_hours_weekday, opening_hours_sat, opening_hours_sun_ph, phone
		from coronaclinic
		limit #{start}, #{pageCnt}
	</select>
 	
	<select id="getTotalCount" parameterType="map" resultType="int">
		select count(update_date)
		from coronaclinic
		<if  test="searchKeyword != null">
			where clinic_name like concat('%', #{searchKeyword}, '%')
		</if>
	</select>
	
	<select id="searchHealthCenter" parameterType="map" resultType="ClinicCoronaDto">
		select update_date, testable, city, gugun, clinic_name, address, opening_hours_weekday, opening_hours_sat, opening_hours_sun_ph, phone
		from coronaclinic
		where clinic_name like concat('%', #{clinicName}, '%')
		limit #{start}, #{pageCnt}
	</select>
	
	<select id="searchCity" parameterType="map" resultType="ClinicCoronaDto">
		select update_date, testable, city, gugun, clinic_name, address, opening_hours_weekday, opening_hours_sat, opening_hours_sun_ph, phone
		from coronaclinic
		where city like concat('%', #{city}, '%')
		limit #{start}, #{pageCnt}
	</select>
	
	<select id="detailPage" parameterType="String" resultType="ClinicCoronaDto">
		select update_date, testable, city, gugun, clinic_name, address, opening_hours_weekday, opening_hours_sat, opening_hours_sun_ph, phone
		from coronaclinic
		where clinic_name like #{name}
		
	</select>
	
	
</mapper>